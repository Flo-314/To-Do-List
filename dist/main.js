(()=>{"use strict";const e=function(){let e=n.projectsArray;localStorage.setItem("session",JSON.stringify(e))},t=function(){let e=JSON.parse(localStorage.getItem("session"));null!=e&&""!==e&&(n.projectsArray.slice(1,0),e.forEach((e=>{n.projectsArray.push(e)})))},n=(()=>{let t=[{title:"Home",info:[]},{title:"Today",info:[]},{title:"Week",info:[]},{title:"TEste 1 ",info:[]},{title:"teste 2 ",info:[]}];return{findProject:function(e){return t.find((t=>t.title===e))},createProject:function(n){let i={title:n,info:[]};t.push(i),e()},projectsArray:t}})(),i=function(t,i,c,o,r){let d=((e,t,n,i,c)=>({title:e,description:t,dueDate:n,priority:c,checklist:i}))(t,i,c,o,r),a=document.querySelector("#main-title").textContent;n.findProject(a).info.push(d),e(),console.log(n.projectsArray)},c=function(e,t){return n.findProject(e).info.find((e=>e.title===t))},o=function(t,i){let c=n.findProject(t);c.info.forEach((function(e,t){e.title==i&&c.info.splice(t)})),e()},r=((()=>{function e(e){const t=document.querySelector("."+e);"Home"!==e?t.addEventListener("click",(()=>{d.printMain(e)})):t.addEventListener("click",(()=>{d.printMainHome()}))}e("Home"),e("Today"),e("Week"),function e(){const t=document.querySelector("#projects"),i=document.createElement("button");i.textContent="Add New Project",i.setAttribute("id","newProjectBtn"),i.addEventListener("click",(()=>function(){document.querySelector("#newProjectBtn").remove();const t=document.querySelector("#projects"),i=document.createElement("div");i.classList.add("addProjectContainer");const c=document.createElement("input");c.type="text",c.placeholder="Project Title",c.classList.add("projectInput");const o=document.createElement("button");o.classList.add("sumbitProjectBtn"),o.textContent="Sumbit Project",o.addEventListener("click",(()=>{let t=c.value;n.createProject(t),document.querySelector(".addProjectContainer").remove(),e(),r.printProject(t)})),i.append(c,o),t.appendChild(i)}())),t.appendChild(i)}()})(),(()=>{function e(e){const t=document.querySelector("#projectsList"),n=document.createElement("li");n.classList.add("project"),n.textContent=e,n.addEventListener("click",(()=>{d.printMain(e)})),t.appendChild(n)}return{printProjectInMain:function(e){let t=n.findProject(e);void 0!==t&&t.info.forEach((e=>{s.printItem(e.title,e.description,e.dueDate)}))},printStoredProjects:function(){n.projectsArray.forEach((t=>{"Home"!==t.title&&"Week"!==t.title&&"Today"!==t.title&&e(t.title)}))},printProject:e}})()),d=(()=>{function e(){document.querySelector("main").innerHTML=""}function t(){const e=document.querySelector("main"),t=document.createElement("div");t.setAttribute("id","main-content");const n=document.createElement("div");n.setAttribute("id","main-title");const i=document.createElement("div");i.setAttribute("id","item-container"),e.append(t,n,i)}return{printMain:function(n){e(),t(),document.querySelector("#main-title").textContent=n,r.printProjectInMain(n),a.createItemBtn()},deleteMain:e,printMainHome:function(){e(),t(),document.querySelector("#main-title").textContent="Home",s.printHomeItems(),a.createItemBtn()}}})(),a={createItemBtn:function e(){const t=document.querySelector("main"),n=document.createElement("button");n.textContent="Add New Task!",n.setAttribute("id","itemBtn"),n.addEventListener("click",(()=>function(){document.querySelector("#itemBtn").remove();const t=document.createElement("div");t.classList.add("addItemContainer");const n=document.createElement("input");n.type="text",n.placeholder="Task Title",n.classList.add("itemTitle");const c=document.createElement("input");c.type="text",c.placeholder="Description",c.classList.add("itemDescription");const o=document.createElement("input");o.type="date";const r=document.createElement("button");r.textContent="Add new Task!",r.addEventListener("click",(()=>{let t=c.value,r=n.value,d=o.value;i(r,t,d),s.printItem(r,t,d),document.querySelector(".addItemContainer").remove(),e()}));const d=document.querySelector("main");t.append(n,c,o,r),d.append(t)}())),t.appendChild(n)}},s=(()=>{function e(e,n,r,d){const a=document.querySelector("#main-title").textContent,s=document.querySelector("#item-container"),u=document.createElement("div");u.classList.add("item");const m=document.createElement("div");m.classList.add("left-container");const p=document.createElement("div");p.classList.add("right-container");const f=t(e),v=f.itemTitleContainer,E=f.itemTitle;E.addEventListener("click",(()=>{l.editItemListener(E,v,k,h,j,y,u,e,a)}));const L=i(n),h=L.itemDescriptionContainer,k=L.itemDescription;k.addEventListener("click",(()=>{l.editItemListener(E,v,k,h,j,y,u,e,a)}));const C=c(r),y=C.itemDueDateContainer,j=C.itemDueDate;j.addEventListener("click",(()=>{l.editItemListener(E,v,k,h,j,y,u,e,a)}));const x=o(d,e,a);!function(e,t,n){const i=document.createElement("button");n.appendChild(i),i.textContent="Delete Item",i.addEventListener("click",(()=>l.deleteItem(e,t,n)))}(a,e,u);const S=document.createElement("hr");m.append(v,h),p.append(x,y),u.append(m,p,S),s.appendChild(u)}function t(e){const t=document.createElement("div"),n=document.createElement("div");return t.appendChild(n),t.classList.add("item-title"),n.textContent=e,{itemTitleContainer:t,itemTitle:n}}function i(e){const t=document.createElement("div"),n=document.createElement("div");return t.appendChild(n),n.classList.add("item-description"),n.textContent=e,{itemDescriptionContainer:t,itemDescription:n}}function c(e){const t=document.createElement("div"),n=document.createElement("div");return t.appendChild(n),n.classList.add("item-duedate"),n.textContent=e,{itemDueDateContainer:t,itemDueDate:n}}function o(e,t,n){const i=document.createElement("div");return i.classList.add("item-checklist"),"checked"!==e?(i.classList.add("unchecked"),i.addEventListener("click",(()=>l.checkboxOffListener(i,t,n)))):(i.classList.add("checked"),i.addEventListener("click",(()=>l.checkboxOnListener(i,t,n)))),i}return{printItem:e,printTitle:t,printItemDescription:i,printDuedate:c,printChecklist:o,printHomeItems:function(){n.projectsArray.forEach((t=>{console.log(t),console.log(t.info),t.info.forEach((t=>{e(t.title,t.description,t.dueDate)}))}))}}})(),l=(()=>{function e(e,n,i){e.classList.remove("checked"),e.classList.add("unchecked"),c(i,n).checklist="unchecked",e.addEventListener("click",(()=>t(e,n,i)))}function t(t,n,i){t.classList.remove("unchecked"),t.classList.add("checked"),c(i,n).checklist="checked",t.addEventListener("click",(()=>e(t,n,i)))}return{deleteItem:function(e,t,n){n.remove(),o(e,t)},checkboxOffListener:t,checkboxOnListener:e,editItemListener:function(e,t,n,i,o,r,d,a,l){let u=e.textContent,m=function(e,t){const n=t.textContent;e.remove();const i=document.createElement("input");return i.classList.add("title-input"),i.placeholder="Task Title",i.value=n,t.appendChild(i),i}(e,t),p=function(e,t){const n=t.textContent;e.remove();const i=document.createElement("input");return i.classList.add("description-input"),i.placeholder="Task Description",i.value=n,t.appendChild(i),i}(n,i),f=function(e,t){const n=t.textContent;e.remove();const i=document.createElement("input");return i.classList.add("date-input"),i.type="date",i.value=n,t.appendChild(i),i}(o,r),v=document.createElement("button");v.textContent="Sumbit";let E=c(l,u);v.addEventListener("click",(()=>{E.title=m.value,E.description=p.value,E.dueDate=f.value,d.remove(),s.printItem(E.title,E.description,E.dueDate,"undefined")})),d.appendChild(v)}}})();t(),r.printStoredProjects(),d.printMain("Home"),console.log(n.projectsArray)})();