(()=>{"use strict";function e(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function t(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}var n=36e5,i={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},r=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,o=/^([+-])(\d{2})(?::?(\d{2}))?$/;function a(n,i){t(1,arguments);var r=i||{},c=null==r.additionalDigits?2:e(r.additionalDigits);if(2!==c&&1!==c&&0!==c)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof n&&"[object String]"!==Object.prototype.toString.call(n))return new Date(NaN);var o,a=d(n);if(a.date){var l=u(a.date,c);o=s(l.restDateString,l.year)}if(isNaN(o)||!o)return new Date(NaN);var p,v=o.getTime(),h=0;if(a.time&&(h=m(a.time),isNaN(h)||null===h))return new Date(NaN);if(!a.timezone){var E=new Date(v+h),D=new Date(0);return D.setFullYear(E.getUTCFullYear(),E.getUTCMonth(),E.getUTCDate()),D.setHours(E.getUTCHours(),E.getUTCMinutes(),E.getUTCSeconds(),E.getUTCMilliseconds()),D}return p=f(a.timezone),isNaN(p)?new Date(NaN):new Date(v+h+p)}function d(e){var t,n={},r=e.split(i.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1],i.timeZoneDelimiter.test(n.date)&&(n.date=e.split(i.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var c=i.timezone.exec(t);c?(n.time=t.replace(c[1],""),n.timezone=c[1]):n.time=t}return n}function u(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=e.match(n);if(!i)return{year:null};var r=i[1]&&parseInt(i[1]),c=i[2]&&parseInt(i[2]);return{year:null==c?r:100*c,restDateString:e.slice((i[1]||i[2]).length)}}function s(e,t){if(null===t)return null;var n=e.match(r);if(!n)return null;var i=!!n[4],c=l(n[1]),o=l(n[2])-1,a=l(n[3]),d=l(n[4]),u=l(n[5])-1;if(i)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,d,u)?function(e,t,n){var i=new Date(0);i.setUTCFullYear(e,0,4);var r=7*(t-1)+n+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+r),i}(t,d,u):new Date(NaN);var s=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(v[t]||(h(e)?29:28))}(t,o,a)&&function(e,t){return t>=1&&t<=(h(e)?366:365)}(t,c)?(s.setUTCFullYear(t,o,Math.max(c,a)),s):new Date(NaN)}function l(e){return e?parseInt(e):1}function m(e){var t=e.match(c);if(!t)return null;var i=p(t[1]),r=p(t[2]),o=p(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(i,r,o)?i*n+6e4*r+1e3*o:NaN}function p(e){return e&&parseFloat(e.replace(",","."))||0}function f(e){if("Z"===e)return 0;var t=e.match(o);if(!t)return 0;var i="+"===t[1]?-1:1,r=parseInt(t[2]),c=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,c)?i*(r*n+6e4*c):NaN}var v=[31,null,31,30,31,30,31,31,30,31,30,31];function h(e){return e%400==0||e%4==0&&e%100}function E(e){t(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):("string"!=typeof e&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function D(e){t(1,arguments);var n=E(e);return n.setHours(0,0,0,0),n}function k(e,n){t(2,arguments);var i=D(e),r=D(n);return i.getTime()===r.getTime()}function y(n,i){t(1,arguments);var r=i||{},c=r.locale,o=c&&c.options&&c.options.weekStartsOn,a=null==o?0:e(o),d=null==r.weekStartsOn?a:e(r.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=E(n),s=u.getDay(),l=(s<d?7:0)+s-d;return u.setDate(u.getDate()-l),u.setHours(0,0,0,0),u}function L(e,n,i){t(2,arguments);var r=y(e,i),c=y(n,i);return r.getTime()===c.getTime()}const g=(()=>{const e=[{title:"Home",info:[]},{title:"Today",info:[]},{title:"Week",info:[]}];return{updateLocalStorage:function(){localStorage.clear();const e=C.projectsArray;localStorage.setItem("session",JSON.stringify(e))},checkLocalStorage:function(){const t=JSON.parse(localStorage.getItem("session"));null!=t&&""!==t?t.forEach((e=>{C.projectsArray.push(e)})):e.forEach((e=>{C.projectsArray.push(e)}))}}})(),C=(()=>{const e=[];return{findProject:function(t){return e.find((e=>e.title===t))},createProject:function(t){const n={title:t,info:[]};e.push(n),g.updateLocalStorage()},projectsArray:e}})(),S=function(e,t,n,i,r){const c=((e,t,n,i,r)=>({title:e,description:t,dueDate:n,priority:r,checklist:i}))(e,t,n,i,r),o=document.querySelector("#main-title").textContent;C.findProject(o).info.push(c),g.updateLocalStorage()},T=function(e,t){return C.findProject(e).info.find((e=>e.title===t))},j=function(e,t){const n=C.findProject(e);n.info.forEach(((e,i)=>{e.title===t&&n.info.splice(i),g.updateLocalStorage()}))},w=(()=>{function e(e){const t=document.querySelector("#projectsList"),n=document.createElement("li");n.classList.add("project"),n.textContent=e,n.addEventListener("click",(()=>{I.printMain(e)})),t.appendChild(n)}return{printProjectInMain:function(e){const t=C.findProject(e);void 0!==t&&t.info.forEach((e=>{N.printItem(e.title,e.description,e.dueDate)}))},printStoredProjects:function(){C.projectsArray.forEach((t=>{"Home"!==t.title&&"Week"!==t.title&&"Today"!==t.title&&e(t.title)}))},printProject:e}})(),b=((()=>{function e(e){const t=document.querySelector(`.${e}`);switch(e){case"Home":t.addEventListener("click",(()=>{I.printMainHome()}));break;case"Today":t.addEventListener("click",(()=>{I.printMainToday()}));break;case"Week":t.addEventListener("click",(()=>{I.printMainWeek()}));break;default:t.addEventListener("click",(()=>{I.printMain(e)}))}}e("Home"),e("Today"),e("Week"),function e(){const t=document.querySelector("#projects"),n=document.createElement("button");n.textContent="Add New Project",n.setAttribute("id","newProjectBtn"),n.addEventListener("click",(()=>function(){document.querySelector("#newProjectBtn").remove();const t=document.querySelector("#projects"),n=document.createElement("div");n.classList.add("addProjectContainer");const i=document.createElement("input");i.type="text",i.placeholder="Project Title",i.classList.add("projectInput");const r=document.createElement("button");r.classList.add("sumbitProjectBtn"),r.textContent="Sumbit Project",r.addEventListener("click",(()=>{const t=i.value;C.createProject(t),document.querySelector(".addProjectContainer").remove(),e(),w.printProject(t)})),n.append(i,r),t.appendChild(n)}())),t.appendChild(n)}()})(),(()=>{function e(e,n,i){e.classList.remove("checked"),e.classList.add("unchecked"),T(i,n).checklist="unchecked",e.addEventListener("click",(()=>t(e,n,i)))}function t(t,n,i){t.classList.remove("unchecked"),t.classList.add("checked"),T(i,n).checklist="checked",t.addEventListener("click",(()=>e(t,n,i)))}return{deleteItem:function(e,t,n){n.remove(),j(e,t)},checkboxOffListener:t,checkboxOnListener:e,editItemListener:function(e,t,n,i,r,c,o,a,d){const u=e.textContent,s=function(e,t){const n=t.textContent;e.remove();const i=document.createElement("input");return i.classList.add("title-input"),i.placeholder="Task Title",i.value=n,t.appendChild(i),i}(e,t),l=function(e,t){const n=t.textContent;e.remove();const i=document.createElement("input");return i.classList.add("description-input"),i.placeholder="Task Description",i.value=n,t.appendChild(i),i}(n,i),m=function(e,t){const n=t.textContent;e.remove();const i=document.createElement("input");return i.classList.add("date-input"),i.type="date",i.value=n,t.appendChild(i),i}(r,c),p=document.createElement("button");p.textContent="Sumbit";const f=T(d,u);p.addEventListener("click",(()=>{f.title=s.value,f.description=l.value,f.dueDate=m.value,o.remove(),N.printItem(f.title,f.description,f.dueDate,"undefined"),g.updateLocalStorage()})),o.appendChild(p)}}})()),N=(()=>{function e(e){const t=document.createElement("div"),n=document.createElement("div");return t.appendChild(n),t.classList.add("item-title"),n.textContent=e,{itemTitleContainer:t,itemTitle:n}}function n(e){const t=document.createElement("div"),n=document.createElement("div");return t.appendChild(n),n.classList.add("item-description"),n.textContent=e,{itemDescriptionContainer:t,itemDescription:n}}function i(e){const t=document.createElement("div"),n=document.createElement("div");return t.appendChild(n),n.classList.add("item-duedate"),n.textContent=e,{itemDueDateContainer:t,itemDueDate:n}}function r(e,t,n){const i=document.createElement("div");return i.classList.add("item-checklist"),"checked"!==e?(i.classList.add("unchecked"),i.addEventListener("click",(()=>b.checkboxOffListener(i,t,n)))):(i.classList.add("checked"),i.addEventListener("click",(()=>b.checkboxOnListener(i,t,n)))),i}function c(t,c,o,a){const d=document.querySelector("#main-title").textContent,u=document.querySelector("#item-container"),s=document.createElement("div");s.classList.add("item");const l=document.createElement("div");l.classList.add("left-container");const m=document.createElement("div");m.classList.add("right-container");const p=e(t),{itemTitleContainer:f}=p,{itemTitle:v}=p,h=n(c),{itemDescriptionContainer:E}=h,{itemDescription:D}=h,k=i(o),{itemDueDateContainer:y}=k,{itemDueDate:L}=k,g=r(a,t,d);!function(e,t,n){const i=document.createElement("button");n.appendChild(i),i.textContent="Delete Item",i.addEventListener("click",(()=>b.deleteItem(e,t,n)))}(d,t,s);const C=document.createElement("hr");v.addEventListener("click",(()=>{b.editItemListener(v,f,D,E,L,y,s,t,d)})),D.addEventListener("click",(()=>{b.editItemListener(v,f,D,E,L,y,s,t,d)})),L.addEventListener("click",(()=>{b.editItemListener(v,f,D,E,L,y,s,t,d)})),l.append(f,E),m.append(g,y),s.append(l,m,C),u.appendChild(s)}return{printItem:c,printTitle:e,printItemDescription:n,printDuedate:i,printChecklist:r,printHomeItems:function(){C.projectsArray.forEach((e=>{e.info.forEach((e=>{c(e.title,e.description,e.dueDate)}))}))},printTodayItems:function(){C.projectsArray.forEach((e=>{e.info.forEach((e=>{!0===function(e){return t(1,arguments),k(e,Date.now())}(a(e.dueDate))&&c(e.title,e.description,e.dueDate)}))}))},printWeekItems:function(){C.projectsArray.forEach((e=>{e.info.forEach((e=>{!0===function(e,n){return t(1,arguments),L(e,Date.now(),n)}(a(e.dueDate))&&c(e.title,e.description,e.dueDate)}))}))}}})(),I=(()=>{function e(){document.querySelector("main").innerHTML=""}function t(){const e=document.querySelector("main"),t=document.createElement("div");t.setAttribute("id","main-content");const n=document.createElement("div");n.setAttribute("id","main-title");const i=document.createElement("div");i.setAttribute("id","item-container"),e.append(t,n,i)}return{printMain:function(n){e(),t(),document.querySelector("#main-title").textContent=n,w.printProjectInMain(n),x.createItemBtn()},deleteMain:e,printMainHome:function(){e(),t(),document.querySelector("#main-title").textContent="Home",N.printHomeItems()},printMainToday:function(){e(),t(),document.querySelector("#main-title").textContent="Today",N.printTodayItems()},printMainWeek:function(){e(),t(),document.querySelector("#main-title").textContent="Today",N.printWeekItems()}}})(),x={createItemBtn:function e(){const t=document.querySelector("main"),n=document.createElement("button");n.textContent="Add New Task!",n.setAttribute("id","itemBtn"),n.addEventListener("click",(()=>function(){document.querySelector("#itemBtn").remove();const t=document.createElement("div");t.classList.add("addItemContainer");const n=document.createElement("input");n.type="text",n.placeholder="Task Title",n.classList.add("itemTitle");const i=document.createElement("input");i.type="text",i.placeholder="Description",i.classList.add("itemDescription");const r=document.createElement("input");r.type="date";const c=document.createElement("button");c.textContent="Add new Task!",c.addEventListener("click",(()=>{const t=i.value,c=n.value,o=r.value;S(c,t,o),N.printItem(c,t,o),document.querySelector(".addItemContainer").remove(),e()}));const o=document.querySelector("main");t.append(n,i,r,c),o.append(t)}())),t.appendChild(n)}};g.checkLocalStorage(),w.printStoredProjects(),I.printMainHome()})();