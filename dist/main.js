(()=>{"use strict";const e=(()=>{const e=[{title:"Home",info:[]},{title:"Today",info:[]},{title:"Week",info:[]},{title:"TEste 1 ",info:[]},{title:"teste 2 ",info:[]}];return{updateLocalStorage:function(){localStorage.clear();const e=t.projectsArray;localStorage.setItem("session",JSON.stringify(e))},checkLocalStorage:function(){const n=JSON.parse(localStorage.getItem("session"));null!=n&&""!==n?(console.log(t.projectsArray),n.forEach((e=>{t.projectsArray.push(e)}))):e.forEach((e=>{t.projectsArray.push(e)}))}}})(),t=(()=>{const t=[];return{findProject:function(e){return t.find((t=>t.title===e))},createProject:function(n){const c={title:n,info:[]};t.push(c),e.updateLocalStorage()},projectsArray:t}})(),n=function(n,c,i,o,r){const d=((e,t,n,c,i)=>({title:e,description:t,dueDate:n,priority:i,checklist:c}))(n,c,i,o,r),a=document.querySelector("#main-title").textContent;t.findProject(a).info.push(d),e.updateLocalStorage()},c=function(e,n){return t.findProject(e).info.find((e=>e.title===n))},i=function(n,c){const i=t.findProject(n);i.info.forEach(((e,t)=>{e.title===c&&i.info.splice(t)})),e.updateLocalStorage()},o=(()=>{function e(e){const t=document.querySelector("#projectsList"),n=document.createElement("li");n.classList.add("project"),n.textContent=e,n.addEventListener("click",(()=>{a.printMain(e)})),t.appendChild(n)}return{printProjectInMain:function(e){const n=t.findProject(e);void 0!==n&&n.info.forEach((e=>{d.printItem(e.title,e.description,e.dueDate)}))},printStoredProjects:function(){t.projectsArray.forEach((t=>{"Home"!==t.title&&"Week"!==t.title&&"Today"!==t.title&&e(t.title)}))},printProject:e}})(),r=((()=>{function e(e){const t=document.querySelector(`.${e}`);"Home"!==e?t.addEventListener("click",(()=>{a.printMain(e)})):t.addEventListener("click",(()=>{a.printMainHome()}))}e("Home"),e("Today"),e("Week"),function e(){const n=document.querySelector("#projects"),c=document.createElement("button");c.textContent="Add New Project",c.setAttribute("id","newProjectBtn"),c.addEventListener("click",(()=>function(){document.querySelector("#newProjectBtn").remove();const n=document.querySelector("#projects"),c=document.createElement("div");c.classList.add("addProjectContainer");const i=document.createElement("input");i.type="text",i.placeholder="Project Title",i.classList.add("projectInput");const r=document.createElement("button");r.classList.add("sumbitProjectBtn"),r.textContent="Sumbit Project",r.addEventListener("click",(()=>{const n=i.value;t.createProject(n),document.querySelector(".addProjectContainer").remove(),e(),o.printProject(n)})),c.append(i,r),n.appendChild(c)}())),n.appendChild(c)}()})(),(()=>{function e(e,n,i){e.classList.remove("checked"),e.classList.add("unchecked"),c(i,n).checklist="unchecked",e.addEventListener("click",(()=>t(e,n,i)))}function t(t,n,i){t.classList.remove("unchecked"),t.classList.add("checked"),c(i,n).checklist="checked",t.addEventListener("click",(()=>e(t,n,i)))}return{deleteItem:function(e,t,n){n.remove(),i(e,t)},checkboxOffListener:t,checkboxOnListener:e,editItemListener:function(e,t,n,i,o,r,a,s,l){const u=e.textContent,m=function(e,t){const n=t.textContent;e.remove();const c=document.createElement("input");return c.classList.add("title-input"),c.placeholder="Task Title",c.value=n,t.appendChild(c),c}(e,t),p=function(e,t){const n=t.textContent;e.remove();const c=document.createElement("input");return c.classList.add("description-input"),c.placeholder="Task Description",c.value=n,t.appendChild(c),c}(n,i),f=function(e,t){const n=t.textContent;e.remove();const c=document.createElement("input");return c.classList.add("date-input"),c.type="date",c.value=n,t.appendChild(c),c}(o,r),L=document.createElement("button");L.textContent="Sumbit";const E=c(l,u);L.addEventListener("click",(()=>{E.title=m.value,E.description=p.value,E.dueDate=f.value,a.remove(),d.printItem(E.title,E.description,E.dueDate,"undefined")})),a.appendChild(L)}}})()),d=(()=>{function e(e){const t=document.createElement("div"),n=document.createElement("div");return t.appendChild(n),t.classList.add("item-title"),n.textContent=e,{itemTitleContainer:t,itemTitle:n}}function n(e){const t=document.createElement("div"),n=document.createElement("div");return t.appendChild(n),n.classList.add("item-description"),n.textContent=e,{itemDescriptionContainer:t,itemDescription:n}}function c(e){const t=document.createElement("div"),n=document.createElement("div");return t.appendChild(n),n.classList.add("item-duedate"),n.textContent=e,{itemDueDateContainer:t,itemDueDate:n}}function i(e,t,n){const c=document.createElement("div");return c.classList.add("item-checklist"),"checked"!==e?(c.classList.add("unchecked"),c.addEventListener("click",(()=>r.checkboxOffListener(c,t,n)))):(c.classList.add("checked"),c.addEventListener("click",(()=>r.checkboxOnListener(c,t,n)))),c}function o(t,o,d,a){const s=document.querySelector("#main-title").textContent,l=document.querySelector("#item-container"),u=document.createElement("div");u.classList.add("item");const m=document.createElement("div");m.classList.add("left-container");const p=document.createElement("div");p.classList.add("right-container");const f=e(t),{itemTitleContainer:L}=f,{itemTitle:E}=f,v=n(o),{itemDescriptionContainer:h}=v,{itemDescription:k}=v,C=c(d),{itemDueDateContainer:y}=C,{itemDueDate:j}=C,S=i(a,t,s);!function(e,t,n){const c=document.createElement("button");n.appendChild(c),c.textContent="Delete Item",c.addEventListener("click",(()=>r.deleteItem(e,t,n)))}(s,t,u);const x=document.createElement("hr");E.addEventListener("click",(()=>{r.editItemListener(E,L,k,h,j,y,u,t,s)})),k.addEventListener("click",(()=>{r.editItemListener(E,L,k,h,j,y,u,t,s)})),j.addEventListener("click",(()=>{r.editItemListener(E,L,k,h,j,y,u,t,s)})),m.append(L,h),p.append(S,y),u.append(m,p,x),l.appendChild(u)}return{printItem:o,printTitle:e,printItemDescription:n,printDuedate:c,printChecklist:i,printHomeItems:function(){t.projectsArray.forEach((e=>{e.info.forEach((e=>{o(e.title,e.description,e.dueDate)}))}))}}})(),a=(()=>{function e(){document.querySelector("main").innerHTML=""}function t(){const e=document.querySelector("main"),t=document.createElement("div");t.setAttribute("id","main-content");const n=document.createElement("div");n.setAttribute("id","main-title");const c=document.createElement("div");c.setAttribute("id","item-container"),e.append(t,n,c)}return{printMain:function(n){e(),t(),document.querySelector("#main-title").textContent=n,o.printProjectInMain(n),s.createItemBtn()},deleteMain:e,printMainHome:function(){e(),t(),document.querySelector("#main-title").textContent="Home",d.printHomeItems(),s.createItemBtn()}}})(),s={createItemBtn:function e(){const t=document.querySelector("main"),c=document.createElement("button");c.textContent="Add New Task!",c.setAttribute("id","itemBtn"),c.addEventListener("click",(()=>function(){document.querySelector("#itemBtn").remove();const t=document.createElement("div");t.classList.add("addItemContainer");const c=document.createElement("input");c.type="text",c.placeholder="Task Title",c.classList.add("itemTitle");const i=document.createElement("input");i.type="text",i.placeholder="Description",i.classList.add("itemDescription");const o=document.createElement("input");o.type="date";const r=document.createElement("button");r.textContent="Add new Task!",r.addEventListener("click",(()=>{const t=i.value,r=c.value,a=o.value;n(r,t,a),d.printItem(r,t,a),document.querySelector(".addItemContainer").remove(),e()}));const a=document.querySelector("main");t.append(c,i,o,r),a.append(t)}())),t.appendChild(c)}};e.checkLocalStorage(),o.printStoredProjects(),a.printMain("Home")})();